{"ast":null,"code":"import L from 'leaflet';\nimport { Nominatim } from './geocoders/index';\nexport var Geocoder = L.Control.extend({\n  options: {\n    showUniqueResult: true,\n    showResultIcons: false,\n    collapsed: true,\n    expand: 'touch',\n    // options: touch, click, anythingelse\n    position: 'topright',\n    placeholder: 'Search...',\n    errorMessage: 'Nothing found.',\n    iconLabel: 'Initiate a new search',\n    queryMinLength: 1,\n    suggestMinLength: 3,\n    suggestTimeout: 250,\n    defaultMarkGeocode: true\n  },\n  includes: L.Evented.prototype || L.Mixin.Events,\n  initialize: function (options) {\n    L.Util.setOptions(this, options);\n\n    if (!this.options.geocoder) {\n      this.options.geocoder = new Nominatim();\n    }\n\n    this._requestCount = 0;\n  },\n  addThrobberClass: function () {\n    L.DomUtil.addClass(this._container, 'leaflet-control-geocoder-throbber');\n  },\n  removeThrobberClass: function () {\n    L.DomUtil.removeClass(this._container, 'leaflet-control-geocoder-throbber');\n  },\n  onAdd: function (map) {\n    var className = 'leaflet-control-geocoder',\n        container = L.DomUtil.create('div', className + ' leaflet-bar'),\n        icon = L.DomUtil.create('button', className + '-icon', container),\n        form = this._form = L.DomUtil.create('div', className + '-form', container),\n        input;\n    this._map = map;\n    this._container = container;\n    icon.innerHTML = '&nbsp;';\n    icon.type = 'button';\n    icon.setAttribute('aria-label', this.options.iconLabel);\n    input = this._input = L.DomUtil.create('input', '', form);\n    input.type = 'text';\n    input.value = this.options.query || '';\n    input.placeholder = this.options.placeholder;\n    L.DomEvent.disableClickPropagation(input);\n    this._errorElement = L.DomUtil.create('div', className + '-form-no-error', container);\n    this._errorElement.innerHTML = this.options.errorMessage;\n    this._alts = L.DomUtil.create('ul', className + '-alternatives leaflet-control-geocoder-alternatives-minimized', container);\n    L.DomEvent.disableClickPropagation(this._alts);\n    L.DomEvent.addListener(input, 'keydown', this._keydown, this);\n\n    if (this.options.geocoder.suggest) {\n      L.DomEvent.addListener(input, 'input', this._change, this);\n    }\n\n    L.DomEvent.addListener(input, 'blur', function () {\n      if (this.options.collapsed && !this._preventBlurCollapse) {\n        this._collapse();\n      }\n\n      this._preventBlurCollapse = false;\n    }, this);\n\n    if (this.options.collapsed) {\n      if (this.options.expand === 'click') {\n        L.DomEvent.addListener(container, 'click', function (e) {\n          if (e.button === 0 && e.detail !== 2) {\n            this._toggle();\n          }\n        }, this);\n      } else if (this.options.expand === 'touch') {\n        L.DomEvent.addListener(container, L.Browser.touch ? 'touchstart mousedown' : 'mousedown', function (e) {\n          this._toggle();\n\n          e.preventDefault(); // mobile: clicking focuses the icon, so UI expands and immediately collapses\n\n          e.stopPropagation();\n        }, this);\n      } else {\n        L.DomEvent.addListener(container, 'mouseover', this._expand, this);\n        L.DomEvent.addListener(container, 'mouseout', this._collapse, this);\n\n        this._map.on('movestart', this._collapse, this);\n      }\n    } else {\n      this._expand();\n\n      if (L.Browser.touch) {\n        L.DomEvent.addListener(container, 'touchstart', function () {\n          this._geocode();\n        }, this);\n      } else {\n        L.DomEvent.addListener(container, 'click', function () {\n          this._geocode();\n        }, this);\n      }\n    }\n\n    if (this.options.defaultMarkGeocode) {\n      this.on('markgeocode', this.markGeocode, this);\n    }\n\n    this.on('startgeocode', this.addThrobberClass, this);\n    this.on('finishgeocode', this.removeThrobberClass, this);\n    this.on('startsuggest', this.addThrobberClass, this);\n    this.on('finishsuggest', this.removeThrobberClass, this);\n    L.DomEvent.disableClickPropagation(container);\n    return container;\n  },\n  setQuery: function (string) {\n    this._input.value = string;\n    return this;\n  },\n  _geocodeResult: function (results, suggest) {\n    if (!suggest && this.options.showUniqueResult && results.length === 1) {\n      this._geocodeResultSelected(results[0]);\n    } else if (results.length > 0) {\n      this._alts.innerHTML = '';\n      this._results = results;\n      L.DomUtil.removeClass(this._alts, 'leaflet-control-geocoder-alternatives-minimized');\n      L.DomUtil.addClass(this._container, 'leaflet-control-geocoder-options-open');\n\n      for (var i = 0; i < results.length; i++) {\n        this._alts.appendChild(this._createAlt(results[i], i));\n      }\n    } else {\n      L.DomUtil.addClass(this._container, 'leaflet-control-geocoder-options-error');\n      L.DomUtil.addClass(this._errorElement, 'leaflet-control-geocoder-error');\n    }\n  },\n  markGeocode: function (result) {\n    result = result.geocode || result;\n\n    this._map.fitBounds(result.bbox);\n\n    if (this._geocodeMarker) {\n      this._map.removeLayer(this._geocodeMarker);\n    }\n\n    this._geocodeMarker = new L.Marker(result.center).bindPopup(result.html || result.name).addTo(this._map).openPopup();\n    return this;\n  },\n  _geocode: function (suggest) {\n    var value = this._input.value;\n\n    if (!suggest && value.length < this.options.queryMinLength) {\n      return;\n    }\n\n    var requestCount = ++this._requestCount,\n        mode = suggest ? 'suggest' : 'geocode',\n        eventData = {\n      input: value\n    };\n    this._lastGeocode = value;\n\n    if (!suggest) {\n      this._clearResults();\n    }\n\n    this.fire('start' + mode, eventData);\n    this.options.geocoder[mode](value, function (results) {\n      if (requestCount === this._requestCount) {\n        eventData.results = results;\n        this.fire('finish' + mode, eventData);\n\n        this._geocodeResult(results, suggest);\n      }\n    }, this);\n  },\n  _geocodeResultSelected: function (result) {\n    this.fire('markgeocode', {\n      geocode: result\n    });\n  },\n  _toggle: function () {\n    if (L.DomUtil.hasClass(this._container, 'leaflet-control-geocoder-expanded')) {\n      this._collapse();\n    } else {\n      this._expand();\n    }\n  },\n  _expand: function () {\n    L.DomUtil.addClass(this._container, 'leaflet-control-geocoder-expanded');\n\n    this._input.select();\n\n    this.fire('expand');\n  },\n  _collapse: function () {\n    L.DomUtil.removeClass(this._container, 'leaflet-control-geocoder-expanded');\n    L.DomUtil.addClass(this._alts, 'leaflet-control-geocoder-alternatives-minimized');\n    L.DomUtil.removeClass(this._errorElement, 'leaflet-control-geocoder-error');\n    L.DomUtil.removeClass(this._container, 'leaflet-control-geocoder-options-open');\n    L.DomUtil.removeClass(this._container, 'leaflet-control-geocoder-options-error');\n\n    this._input.blur(); // mobile: keyboard shouldn't stay expanded\n\n\n    this.fire('collapse');\n  },\n  _clearResults: function () {\n    L.DomUtil.addClass(this._alts, 'leaflet-control-geocoder-alternatives-minimized');\n    this._selection = null;\n    L.DomUtil.removeClass(this._errorElement, 'leaflet-control-geocoder-error');\n    L.DomUtil.removeClass(this._container, 'leaflet-control-geocoder-options-open');\n    L.DomUtil.removeClass(this._container, 'leaflet-control-geocoder-options-error');\n  },\n  _createAlt: function (result, index) {\n    var li = L.DomUtil.create('li', ''),\n        a = L.DomUtil.create('a', '', li),\n        icon = this.options.showResultIcons && result.icon ? L.DomUtil.create('img', '', a) : null,\n        text = result.html ? undefined : document.createTextNode(result.name),\n        mouseDownHandler = function mouseDownHandler(e) {\n      // In some browsers, a click will fire on the map if the control is\n      // collapsed directly after mousedown. To work around this, we\n      // wait until the click is completed, and _then_ collapse the\n      // control. Messy, but this is the workaround I could come up with\n      // for #142.\n      this._preventBlurCollapse = true;\n      L.DomEvent.stop(e);\n\n      this._geocodeResultSelected(result);\n\n      L.DomEvent.on(li, 'click touchend', function () {\n        if (this.options.collapsed) {\n          this._collapse();\n        } else {\n          this._clearResults();\n        }\n      }, this);\n    };\n\n    if (icon) {\n      icon.src = result.icon;\n    }\n\n    li.setAttribute('data-result-index', index);\n\n    if (result.html) {\n      a.innerHTML = a.innerHTML + result.html;\n    } else {\n      a.appendChild(text);\n    } // Use mousedown and not click, since click will fire _after_ blur,\n    // causing the control to have collapsed and removed the items\n    // before the click can fire.\n\n\n    L.DomEvent.addListener(li, 'mousedown touchstart', mouseDownHandler, this);\n    return li;\n  },\n  _keydown: function (e) {\n    var _this = this,\n        select = function select(dir) {\n      if (_this._selection) {\n        L.DomUtil.removeClass(_this._selection, 'leaflet-control-geocoder-selected');\n        _this._selection = _this._selection[dir > 0 ? 'nextSibling' : 'previousSibling'];\n      }\n\n      if (!_this._selection) {\n        _this._selection = _this._alts[dir > 0 ? 'firstChild' : 'lastChild'];\n      }\n\n      if (_this._selection) {\n        L.DomUtil.addClass(_this._selection, 'leaflet-control-geocoder-selected');\n      }\n    };\n\n    switch (e.keyCode) {\n      // Escape\n      case 27:\n        if (this.options.collapsed) {\n          this._collapse();\n        } else {\n          this._clearResults();\n        }\n\n        break;\n      // Up\n\n      case 38:\n        select(-1);\n        break;\n      // Up\n\n      case 40:\n        select(1);\n        break;\n      // Enter\n\n      case 13:\n        if (this._selection) {\n          var index = parseInt(this._selection.getAttribute('data-result-index'), 10);\n\n          this._geocodeResultSelected(this._results[index]);\n\n          this._clearResults();\n        } else {\n          this._geocode();\n        }\n\n        break;\n\n      default:\n        return;\n    }\n\n    L.DomEvent.preventDefault(e);\n  },\n  _change: function () {\n    var v = this._input.value;\n\n    if (v !== this._lastGeocode) {\n      clearTimeout(this._suggestTimeout);\n\n      if (v.length >= this.options.suggestMinLength) {\n        this._suggestTimeout = setTimeout(L.bind(function () {\n          this._geocode(true);\n        }, this), this.options.suggestTimeout);\n      } else {\n        this._clearResults();\n      }\n    }\n  }\n});\nexport function geocoder(options) {\n  return new Geocoder(options);\n}","map":{"version":3,"sources":["/home/isnardo/rcr/rose-city-resource/client/node_modules/leaflet-control-geocoder/src/control.js"],"names":["L","Nominatim","Geocoder","Control","extend","options","showUniqueResult","showResultIcons","collapsed","expand","position","placeholder","errorMessage","iconLabel","queryMinLength","suggestMinLength","suggestTimeout","defaultMarkGeocode","includes","Evented","prototype","Mixin","Events","initialize","Util","setOptions","geocoder","_requestCount","addThrobberClass","DomUtil","addClass","_container","removeThrobberClass","removeClass","onAdd","map","className","container","create","icon","form","_form","input","_map","innerHTML","type","setAttribute","_input","value","query","DomEvent","disableClickPropagation","_errorElement","_alts","addListener","_keydown","suggest","_change","_preventBlurCollapse","_collapse","e","button","detail","_toggle","Browser","touch","preventDefault","stopPropagation","_expand","on","_geocode","markGeocode","setQuery","string","_geocodeResult","results","length","_geocodeResultSelected","_results","i","appendChild","_createAlt","result","geocode","fitBounds","bbox","_geocodeMarker","removeLayer","Marker","center","bindPopup","html","name","addTo","openPopup","requestCount","mode","eventData","_lastGeocode","_clearResults","fire","hasClass","select","blur","_selection","index","li","a","text","undefined","document","createTextNode","mouseDownHandler","stop","src","_this","dir","keyCode","parseInt","getAttribute","v","clearTimeout","_suggestTimeout","setTimeout","bind"],"mappings":"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","sourcesContent":["import L from 'leaflet';\nimport { Nominatim } from './geocoders/index';\n\nexport var Geocoder = L.Control.extend({\n  options: {\n    showUniqueResult: true,\n    showResultIcons: false,\n    collapsed: true,\n    expand: 'touch', // options: touch, click, anythingelse\n    position: 'topright',\n    placeholder: 'Search...',\n    errorMessage: 'Nothing found.',\n    iconLabel: 'Initiate a new search',\n    queryMinLength: 1,\n    suggestMinLength: 3,\n    suggestTimeout: 250,\n    defaultMarkGeocode: true\n  },\n\n  includes: L.Evented.prototype || L.Mixin.Events,\n\n  initialize: function(options) {\n    L.Util.setOptions(this, options);\n    if (!this.options.geocoder) {\n      this.options.geocoder = new Nominatim();\n    }\n\n    this._requestCount = 0;\n  },\n\n  addThrobberClass: function() {\n    L.DomUtil.addClass(this._container, 'leaflet-control-geocoder-throbber');\n  },\n\n  removeThrobberClass: function() {\n    L.DomUtil.removeClass(this._container, 'leaflet-control-geocoder-throbber');\n  },\n\n  onAdd: function(map) {\n    var className = 'leaflet-control-geocoder',\n      container = L.DomUtil.create('div', className + ' leaflet-bar'),\n      icon = L.DomUtil.create('button', className + '-icon', container),\n      form = (this._form = L.DomUtil.create('div', className + '-form', container)),\n      input;\n\n    this._map = map;\n    this._container = container;\n\n    icon.innerHTML = '&nbsp;';\n    icon.type = 'button';\n    icon.setAttribute('aria-label', this.options.iconLabel);\n\n    input = this._input = L.DomUtil.create('input', '', form);\n    input.type = 'text';\n    input.value = this.options.query || '';\n    input.placeholder = this.options.placeholder;\n    L.DomEvent.disableClickPropagation(input);\n\n    this._errorElement = L.DomUtil.create('div', className + '-form-no-error', container);\n    this._errorElement.innerHTML = this.options.errorMessage;\n\n    this._alts = L.DomUtil.create(\n      'ul',\n      className + '-alternatives leaflet-control-geocoder-alternatives-minimized',\n      container\n    );\n    L.DomEvent.disableClickPropagation(this._alts);\n\n    L.DomEvent.addListener(input, 'keydown', this._keydown, this);\n    if (this.options.geocoder.suggest) {\n      L.DomEvent.addListener(input, 'input', this._change, this);\n    }\n    L.DomEvent.addListener(\n      input,\n      'blur',\n      function() {\n        if (this.options.collapsed && !this._preventBlurCollapse) {\n          this._collapse();\n        }\n        this._preventBlurCollapse = false;\n      },\n      this\n    );\n\n    if (this.options.collapsed) {\n      if (this.options.expand === 'click') {\n        L.DomEvent.addListener(\n          container,\n          'click',\n          function(e) {\n            if (e.button === 0 && e.detail !== 2) {\n              this._toggle();\n            }\n          },\n          this\n        );\n      } else if (this.options.expand === 'touch') {\n        L.DomEvent.addListener(\n          container,\n          L.Browser.touch ? 'touchstart mousedown' : 'mousedown',\n          function(e) {\n            this._toggle();\n            e.preventDefault(); // mobile: clicking focuses the icon, so UI expands and immediately collapses\n            e.stopPropagation();\n          },\n          this\n        );\n      } else {\n        L.DomEvent.addListener(container, 'mouseover', this._expand, this);\n        L.DomEvent.addListener(container, 'mouseout', this._collapse, this);\n        this._map.on('movestart', this._collapse, this);\n      }\n    } else {\n      this._expand();\n      if (L.Browser.touch) {\n        L.DomEvent.addListener(\n          container,\n          'touchstart',\n          function() {\n            this._geocode();\n          },\n          this\n        );\n      } else {\n        L.DomEvent.addListener(\n          container,\n          'click',\n          function() {\n            this._geocode();\n          },\n          this\n        );\n      }\n    }\n\n    if (this.options.defaultMarkGeocode) {\n      this.on('markgeocode', this.markGeocode, this);\n    }\n\n    this.on('startgeocode', this.addThrobberClass, this);\n    this.on('finishgeocode', this.removeThrobberClass, this);\n    this.on('startsuggest', this.addThrobberClass, this);\n    this.on('finishsuggest', this.removeThrobberClass, this);\n\n    L.DomEvent.disableClickPropagation(container);\n\n    return container;\n  },\n\n  setQuery: function(string) {\n    this._input.value = string;\n    return this;\n  },\n\n  _geocodeResult: function(results, suggest) {\n    if (!suggest && this.options.showUniqueResult && results.length === 1) {\n      this._geocodeResultSelected(results[0]);\n    } else if (results.length > 0) {\n      this._alts.innerHTML = '';\n      this._results = results;\n      L.DomUtil.removeClass(this._alts, 'leaflet-control-geocoder-alternatives-minimized');\n      L.DomUtil.addClass(this._container, 'leaflet-control-geocoder-options-open');\n      for (var i = 0; i < results.length; i++) {\n        this._alts.appendChild(this._createAlt(results[i], i));\n      }\n    } else {\n      L.DomUtil.addClass(this._container, 'leaflet-control-geocoder-options-error');\n      L.DomUtil.addClass(this._errorElement, 'leaflet-control-geocoder-error');\n    }\n  },\n\n  markGeocode: function(result) {\n    result = result.geocode || result;\n\n    this._map.fitBounds(result.bbox);\n\n    if (this._geocodeMarker) {\n      this._map.removeLayer(this._geocodeMarker);\n    }\n\n    this._geocodeMarker = new L.Marker(result.center)\n      .bindPopup(result.html || result.name)\n      .addTo(this._map)\n      .openPopup();\n\n    return this;\n  },\n\n  _geocode: function(suggest) {\n    var value = this._input.value;\n    if (!suggest && value.length < this.options.queryMinLength) {\n      return;\n    }\n\n    var requestCount = ++this._requestCount,\n      mode = suggest ? 'suggest' : 'geocode',\n      eventData = { input: value };\n\n    this._lastGeocode = value;\n    if (!suggest) {\n      this._clearResults();\n    }\n\n    this.fire('start' + mode, eventData);\n    this.options.geocoder[mode](\n      value,\n      function(results) {\n        if (requestCount === this._requestCount) {\n          eventData.results = results;\n          this.fire('finish' + mode, eventData);\n          this._geocodeResult(results, suggest);\n        }\n      },\n      this\n    );\n  },\n\n  _geocodeResultSelected: function(result) {\n    this.fire('markgeocode', { geocode: result });\n  },\n\n  _toggle: function() {\n    if (L.DomUtil.hasClass(this._container, 'leaflet-control-geocoder-expanded')) {\n      this._collapse();\n    } else {\n      this._expand();\n    }\n  },\n\n  _expand: function() {\n    L.DomUtil.addClass(this._container, 'leaflet-control-geocoder-expanded');\n    this._input.select();\n    this.fire('expand');\n  },\n\n  _collapse: function() {\n    L.DomUtil.removeClass(this._container, 'leaflet-control-geocoder-expanded');\n    L.DomUtil.addClass(this._alts, 'leaflet-control-geocoder-alternatives-minimized');\n    L.DomUtil.removeClass(this._errorElement, 'leaflet-control-geocoder-error');\n    L.DomUtil.removeClass(this._container, 'leaflet-control-geocoder-options-open');\n    L.DomUtil.removeClass(this._container, 'leaflet-control-geocoder-options-error');\n    this._input.blur(); // mobile: keyboard shouldn't stay expanded\n    this.fire('collapse');\n  },\n\n  _clearResults: function() {\n    L.DomUtil.addClass(this._alts, 'leaflet-control-geocoder-alternatives-minimized');\n    this._selection = null;\n    L.DomUtil.removeClass(this._errorElement, 'leaflet-control-geocoder-error');\n    L.DomUtil.removeClass(this._container, 'leaflet-control-geocoder-options-open');\n    L.DomUtil.removeClass(this._container, 'leaflet-control-geocoder-options-error');\n  },\n\n  _createAlt: function(result, index) {\n    var li = L.DomUtil.create('li', ''),\n      a = L.DomUtil.create('a', '', li),\n      icon = this.options.showResultIcons && result.icon ? L.DomUtil.create('img', '', a) : null,\n      text = result.html ? undefined : document.createTextNode(result.name),\n      mouseDownHandler = function mouseDownHandler(e) {\n        // In some browsers, a click will fire on the map if the control is\n        // collapsed directly after mousedown. To work around this, we\n        // wait until the click is completed, and _then_ collapse the\n        // control. Messy, but this is the workaround I could come up with\n        // for #142.\n        this._preventBlurCollapse = true;\n        L.DomEvent.stop(e);\n        this._geocodeResultSelected(result);\n        L.DomEvent.on(\n          li,\n          'click touchend',\n          function() {\n            if (this.options.collapsed) {\n              this._collapse();\n            } else {\n              this._clearResults();\n            }\n          },\n          this\n        );\n      };\n\n    if (icon) {\n      icon.src = result.icon;\n    }\n\n    li.setAttribute('data-result-index', index);\n\n    if (result.html) {\n      a.innerHTML = a.innerHTML + result.html;\n    } else {\n      a.appendChild(text);\n    }\n\n    // Use mousedown and not click, since click will fire _after_ blur,\n    // causing the control to have collapsed and removed the items\n    // before the click can fire.\n    L.DomEvent.addListener(li, 'mousedown touchstart', mouseDownHandler, this);\n\n    return li;\n  },\n\n  _keydown: function(e) {\n    var _this = this,\n      select = function select(dir) {\n        if (_this._selection) {\n          L.DomUtil.removeClass(_this._selection, 'leaflet-control-geocoder-selected');\n          _this._selection = _this._selection[dir > 0 ? 'nextSibling' : 'previousSibling'];\n        }\n        if (!_this._selection) {\n          _this._selection = _this._alts[dir > 0 ? 'firstChild' : 'lastChild'];\n        }\n\n        if (_this._selection) {\n          L.DomUtil.addClass(_this._selection, 'leaflet-control-geocoder-selected');\n        }\n      };\n\n    switch (e.keyCode) {\n      // Escape\n      case 27:\n        if (this.options.collapsed) {\n          this._collapse();\n        } else {\n          this._clearResults();\n        }\n        break;\n      // Up\n      case 38:\n        select(-1);\n        break;\n      // Up\n      case 40:\n        select(1);\n        break;\n      // Enter\n      case 13:\n        if (this._selection) {\n          var index = parseInt(this._selection.getAttribute('data-result-index'), 10);\n          this._geocodeResultSelected(this._results[index]);\n          this._clearResults();\n        } else {\n          this._geocode();\n        }\n        break;\n      default:\n        return;\n    }\n\n    L.DomEvent.preventDefault(e);\n  },\n  _change: function() {\n    var v = this._input.value;\n    if (v !== this._lastGeocode) {\n      clearTimeout(this._suggestTimeout);\n      if (v.length >= this.options.suggestMinLength) {\n        this._suggestTimeout = setTimeout(\n          L.bind(function() {\n            this._geocode(true);\n          }, this),\n          this.options.suggestTimeout\n        );\n      } else {\n        this._clearResults();\n      }\n    }\n  }\n});\n\nexport function geocoder(options) {\n  return new Geocoder(options);\n}\n"]},"metadata":{},"sourceType":"module"}