{"ast":null,"code":"import L from 'leaflet';\nimport { jsonp } from '../util';\nexport var Bing = L.Class.extend({\n  initialize: function (key) {\n    this.key = key;\n  },\n  geocode: function (query, cb, context) {\n    jsonp('https://dev.virtualearth.net/REST/v1/Locations', {\n      query: query,\n      key: this.key\n    }, function (data) {\n      var results = [];\n\n      if (data.resourceSets.length > 0) {\n        for (var i = data.resourceSets[0].resources.length - 1; i >= 0; i--) {\n          var resource = data.resourceSets[0].resources[i],\n              bbox = resource.bbox;\n          results[i] = {\n            name: resource.name,\n            bbox: L.latLngBounds([bbox[0], bbox[1]], [bbox[2], bbox[3]]),\n            center: L.latLng(resource.point.coordinates)\n          };\n        }\n      }\n\n      cb.call(context, results);\n    }, this, 'jsonp');\n  },\n  reverse: function (location, scale, cb, context) {\n    jsonp('//dev.virtualearth.net/REST/v1/Locations/' + location.lat + ',' + location.lng, {\n      key: this.key\n    }, function (data) {\n      var results = [];\n\n      for (var i = data.resourceSets[0].resources.length - 1; i >= 0; i--) {\n        var resource = data.resourceSets[0].resources[i],\n            bbox = resource.bbox;\n        results[i] = {\n          name: resource.name,\n          bbox: L.latLngBounds([bbox[0], bbox[1]], [bbox[2], bbox[3]]),\n          center: L.latLng(resource.point.coordinates)\n        };\n      }\n\n      cb.call(context, results);\n    }, this, 'jsonp');\n  }\n});\nexport function bing(key) {\n  return new Bing(key);\n}","map":{"version":3,"sources":["/home/isnardo/rcr/rose-city-resource/client/node_modules/leaflet-control-geocoder/src/geocoders/bing.js"],"names":["L","jsonp","Bing","Class","extend","initialize","key","geocode","query","cb","context","data","results","resourceSets","length","i","resources","resource","bbox","name","latLngBounds","center","latLng","point","coordinates","call","reverse","location","scale","lat","lng","bing"],"mappings":"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","sourcesContent":["import L from 'leaflet';\nimport { jsonp } from '../util';\n\nexport var Bing = L.Class.extend({\n  initialize: function(key) {\n    this.key = key;\n  },\n\n  geocode: function(query, cb, context) {\n    jsonp(\n      'https://dev.virtualearth.net/REST/v1/Locations',\n      {\n        query: query,\n        key: this.key\n      },\n      function(data) {\n        var results = [];\n        if (data.resourceSets.length > 0) {\n          for (var i = data.resourceSets[0].resources.length - 1; i >= 0; i--) {\n            var resource = data.resourceSets[0].resources[i],\n              bbox = resource.bbox;\n            results[i] = {\n              name: resource.name,\n              bbox: L.latLngBounds([bbox[0], bbox[1]], [bbox[2], bbox[3]]),\n              center: L.latLng(resource.point.coordinates)\n            };\n          }\n        }\n        cb.call(context, results);\n      },\n      this,\n      'jsonp'\n    );\n  },\n\n  reverse: function(location, scale, cb, context) {\n    jsonp(\n      '//dev.virtualearth.net/REST/v1/Locations/' + location.lat + ',' + location.lng,\n      {\n        key: this.key\n      },\n      function(data) {\n        var results = [];\n        for (var i = data.resourceSets[0].resources.length - 1; i >= 0; i--) {\n          var resource = data.resourceSets[0].resources[i],\n            bbox = resource.bbox;\n          results[i] = {\n            name: resource.name,\n            bbox: L.latLngBounds([bbox[0], bbox[1]], [bbox[2], bbox[3]]),\n            center: L.latLng(resource.point.coordinates)\n          };\n        }\n        cb.call(context, results);\n      },\n      this,\n      'jsonp'\n    );\n  }\n});\n\nexport function bing(key) {\n  return new Bing(key);\n}\n"]},"metadata":{},"sourceType":"module"}