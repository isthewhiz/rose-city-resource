{"ast":null,"code":"import L from 'leaflet';\nvar lastCallbackId = 0; // Adapted from handlebars.js\n// https://github.com/wycats/handlebars.js/\n\nvar badChars = /[&<>\"'`]/g;\nvar possible = /[&<>\"'`]/;\nvar escape = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;'\n};\n\nfunction escapeChar(chr) {\n  return escape[chr];\n}\n\nexport function htmlEscape(string) {\n  if (string == null) {\n    return '';\n  } else if (!string) {\n    return string + '';\n  } // Force a string conversion as this will be done by the append regardless and\n  // the regex test will do this transparently behind the scenes, causing issues if\n  // an object's to string has escaped characters in it.\n\n\n  string = '' + string;\n\n  if (!possible.test(string)) {\n    return string;\n  }\n\n  return string.replace(badChars, escapeChar);\n}\nexport function jsonp(url, params, callback, context, jsonpParam) {\n  var callbackId = '_l_geocoder_' + lastCallbackId++;\n  params[jsonpParam || 'callback'] = callbackId;\n  window[callbackId] = L.Util.bind(callback, context);\n  var script = document.createElement('script');\n  script.type = 'text/javascript';\n  script.src = url + getParamString(params);\n  script.id = callbackId;\n  document.getElementsByTagName('head')[0].appendChild(script);\n}\nexport function getJSON(url, params, callback) {\n  var xmlHttp = new XMLHttpRequest();\n\n  xmlHttp.onreadystatechange = function () {\n    if (xmlHttp.readyState !== 4) {\n      return;\n    }\n\n    var message;\n\n    if (xmlHttp.status !== 200 && xmlHttp.status !== 304) {\n      message = '';\n    } else if (typeof xmlHttp.response === 'string') {\n      // IE doesn't parse JSON responses even with responseType: 'json'.\n      try {\n        message = JSON.parse(xmlHttp.response);\n      } catch (e) {\n        // Not a JSON response\n        message = xmlHttp.response;\n      }\n    } else {\n      message = xmlHttp.response;\n    }\n\n    callback(message);\n  };\n\n  xmlHttp.open('GET', url + getParamString(params), true);\n  xmlHttp.responseType = 'json';\n  xmlHttp.setRequestHeader('Accept', 'application/json');\n  xmlHttp.send(null);\n}\nexport function template(str, data) {\n  return str.replace(/\\{ *([\\w_]+) *\\}/g, function (str, key) {\n    var value = data[key];\n\n    if (value === undefined) {\n      value = '';\n    } else if (typeof value === 'function') {\n      value = value(data);\n    }\n\n    return htmlEscape(value);\n  });\n}\nexport function getParamString(obj, existingUrl, uppercase) {\n  var params = [];\n\n  for (var i in obj) {\n    var key = encodeURIComponent(uppercase ? i.toUpperCase() : i);\n    var value = obj[i];\n\n    if (!L.Util.isArray(value)) {\n      params.push(key + '=' + encodeURIComponent(value));\n    } else {\n      for (var j = 0; j < value.length; j++) {\n        params.push(key + '=' + encodeURIComponent(value[j]));\n      }\n    }\n  }\n\n  return (!existingUrl || existingUrl.indexOf('?') === -1 ? '?' : '&') + params.join('&');\n}","map":{"version":3,"sources":["/home/isnardo/rcr/rose-city-resource/client/node_modules/leaflet-control-geocoder/src/util.js"],"names":["L","lastCallbackId","badChars","possible","escape","escapeChar","chr","htmlEscape","string","test","replace","jsonp","url","params","callback","context","jsonpParam","callbackId","window","Util","bind","script","document","createElement","type","src","getParamString","id","getElementsByTagName","appendChild","getJSON","xmlHttp","XMLHttpRequest","onreadystatechange","readyState","message","status","response","JSON","parse","e","open","responseType","setRequestHeader","send","template","str","data","key","value","undefined","obj","existingUrl","uppercase","i","encodeURIComponent","toUpperCase","isArray","push","j","length","indexOf","join"],"mappings":"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","sourcesContent":["import L from 'leaflet';\nvar lastCallbackId = 0;\n\n// Adapted from handlebars.js\n// https://github.com/wycats/handlebars.js/\nvar badChars = /[&<>\"'`]/g;\nvar possible = /[&<>\"'`]/;\nvar escape = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;'\n};\n\nfunction escapeChar(chr) {\n  return escape[chr];\n}\n\nexport function htmlEscape(string) {\n  if (string == null) {\n    return '';\n  } else if (!string) {\n    return string + '';\n  }\n\n  // Force a string conversion as this will be done by the append regardless and\n  // the regex test will do this transparently behind the scenes, causing issues if\n  // an object's to string has escaped characters in it.\n  string = '' + string;\n\n  if (!possible.test(string)) {\n    return string;\n  }\n  return string.replace(badChars, escapeChar);\n}\n\nexport function jsonp(url, params, callback, context, jsonpParam) {\n  var callbackId = '_l_geocoder_' + lastCallbackId++;\n  params[jsonpParam || 'callback'] = callbackId;\n  window[callbackId] = L.Util.bind(callback, context);\n  var script = document.createElement('script');\n  script.type = 'text/javascript';\n  script.src = url + getParamString(params);\n  script.id = callbackId;\n  document.getElementsByTagName('head')[0].appendChild(script);\n}\n\nexport function getJSON(url, params, callback) {\n  var xmlHttp = new XMLHttpRequest();\n  xmlHttp.onreadystatechange = function() {\n    if (xmlHttp.readyState !== 4) {\n      return;\n    }\n    var message;\n    if (xmlHttp.status !== 200 && xmlHttp.status !== 304) {\n      message = '';\n    } else if (typeof xmlHttp.response === 'string') {\n      // IE doesn't parse JSON responses even with responseType: 'json'.\n      try {\n        message = JSON.parse(xmlHttp.response);\n      } catch (e) {\n        // Not a JSON response\n        message = xmlHttp.response;\n      }\n    } else {\n      message = xmlHttp.response;\n    }\n    callback(message);\n  };\n  xmlHttp.open('GET', url + getParamString(params), true);\n  xmlHttp.responseType = 'json';\n  xmlHttp.setRequestHeader('Accept', 'application/json');\n  xmlHttp.send(null);\n}\n\nexport function template(str, data) {\n  return str.replace(/\\{ *([\\w_]+) *\\}/g, function(str, key) {\n    var value = data[key];\n    if (value === undefined) {\n      value = '';\n    } else if (typeof value === 'function') {\n      value = value(data);\n    }\n    return htmlEscape(value);\n  });\n}\n\nexport function getParamString(obj, existingUrl, uppercase) {\n  var params = [];\n  for (var i in obj) {\n    var key = encodeURIComponent(uppercase ? i.toUpperCase() : i);\n    var value = obj[i];\n    if (!L.Util.isArray(value)) {\n      params.push(key + '=' + encodeURIComponent(value));\n    } else {\n      for (var j = 0; j < value.length; j++) {\n        params.push(key + '=' + encodeURIComponent(value[j]));\n      }\n    }\n  }\n  return (!existingUrl || existingUrl.indexOf('?') === -1 ? '?' : '&') + params.join('&');\n}\n"]},"metadata":{},"sourceType":"module"}